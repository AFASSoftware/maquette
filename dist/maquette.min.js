!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.maquette={})}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,r,o="http://www.w3.org/2000/svg",n=[],i=function(e,t){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),t&&Object.keys(t).forEach(function(e){r[e]=t[e]}),r},s=function(e,t){return e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties)},a=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},d=function(e,t,r){for(var o=0,n=t.length;o<n;o++){var i=t[o];Array.isArray(i)?d(e,i,r):null!==i&&void 0!==i&&(i.hasOwnProperty("vnodeSelector")||(i=a(i)),r.push(i))}},p=function(){throw new Error("Provide a transitions object to the projectionOptions to do animations")},u={namespace:void 0,eventHandlerInterceptor:void 0,styleApplyer:function(e,t,r){e.style[t]=r},transitions:{enter:p,exit:p}},c=function(e){return i(u,e)},l=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},f=function(e,t,r){if(t)for(var n=r.eventHandlerInterceptor,i=Object.keys(t),s=i.length,a=0;a<s;a++)!function(s){var a=i[s],d=t[a];if("className"===a)throw new Error('Property "className" is not supported, use "class".');if("class"===a)d.split(/\s+/).forEach(function(t){return e.classList.add(t)});else if("classes"===a)for(var p=Object.keys(d),u=p.length,c=0;c<u;c++){var f=p[c];d[f]&&e.classList.add(f)}else if("styles"===a)for(var v=Object.keys(d),h=v.length,c=0;c<h;c++){var m=v[c],y=d[m];y&&(l(y),r.styleApplyer(e,m,y))}else if("key"!==a&&null!==d&&void 0!==d){var g=typeof d;"function"===g?0===a.lastIndexOf("on",0)&&(n&&(d=n(a,d,e,t)),"oninput"===a&&function(){var e=d;d=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}(),e[a]=d):"string"===g&&"value"!==a&&"innerHTML"!==a?r.namespace===o&&"href"===a?e.setAttributeNS("http://www.w3.org/1999/xlink",a,d):e.setAttribute(a,d):e[a]=d}}(a)},v=function(e,t,r,n){if(r){for(var i=!1,s=Object.keys(r),a=s.length,d=0;d<a;d++){var p=s[d],u=r[p],c=t[p];if("class"===p){if(c!==u)throw new Error('"class" property may not be updated. Use the "classes" property for conditional css classes.')}else if("classes"===p)for(var f=e.classList,v=Object.keys(u),h=v.length,m=0;m<h;m++){var y=v[m],g=!!u[y];g!==!!c[y]&&(i=!0,g?f.add(y):f.remove(y))}else if("styles"===p)for(var w=Object.keys(u),N=w.length,m=0;m<N;m++){var b=w[m],x=u[b];x!==c[b]&&(i=!0,x?(l(x),n.styleApplyer(e,b,x)):n.styleApplyer(e,b,""))}else if(u||"string"!=typeof c||(u=""),"value"===p){var S=e[p];S!==u&&(e["oninput-value"]?S===e["oninput-value"]:u!==c)&&(e[p]=u,e["oninput-value"]=void 0),u!==c&&(i=!0)}else if(u!==c){var A=typeof u;if("function"===A)throw new Error("Functions may not be updated on subsequent renders (property: "+p+"). Hint: declare event handler functions outside the render() function.");"string"===A&&"innerHTML"!==p?n.namespace===o&&"href"===p?e.setAttributeNS("http://www.w3.org/1999/xlink",p,u):"role"===p&&""===u?e.removeAttribute(p):e.setAttribute(p,u):e[p]!==u&&(e[p]=u),i=!0}}return i}},h=function(e,t,r){if(""!==t.vnodeSelector)for(var o=r;o<e.length;o++)if(s(e[o],t))return o;return-1},m=function(e,t){if(e.properties){var r=e.properties.enterAnimation;r&&("function"==typeof r?r(e.domNode,e.properties):t.enter(e.domNode,e.properties,r))}},y=function(e,t){var r=e.domNode;if(e.properties){var o=e.properties.exitAnimation;if(o){r.style.pointerEvents="none";var n=function(){r.parentNode&&r.parentNode.removeChild(r)};return"function"==typeof o?void o(r,n,e.properties):void t.exit(e.domNode,e.properties,o,n)}}r.parentNode&&r.parentNode.removeChild(r)},g=function(e,t,r,o){var n=e[t];if(""!==n.vnodeSelector){var i=n.properties;if(!(i?void 0===i.key?i.bind:i.key:void 0))for(var a=0;a<e.length;a++)if(a!==t){var d=e[a];if(s(d,n))throw"added"===o?new Error(r.vnodeSelector+" had a "+n.vnodeSelector+" child added, but there is now more than one. You must add unique key properties to make them distinguishable."):new Error(r.vnodeSelector+" had a "+n.vnodeSelector+" child removed, but there were more than one. You must add unique key properties to make them distinguishable.")}}},w=function(e,o,i,a,d){if(i===a)return!1;i=i||n,a=a||n;for(var p,u=i.length,c=a.length,l=d.transitions,f=0,v=0,w=!1;v<c;){var N=f<u?i[f]:void 0,b=a[v];if(void 0!==N&&s(N,b))w=r(N,b,d)||w,f++;else{var x=h(i,b,f+1);if(x>=0){for(p=f;p<x;p++)y(i[p],l),g(i,p,e,"removed");w=r(i[x],b,d)||w,f=x+1}else t(b,o,f<u?i[f].domNode:void 0,d),m(b,l),g(a,v,e,"added")}v++}if(u>f)for(p=f;p<u;p++)y(i[p],l),g(i,p,e,"removed");return w},N=function(e,r,o){if(r)for(var n=0;n<r.length;n++)t(r[n],e,void 0,o)},b=function(e,t,r){N(e,t.children,r),t.text&&(e.textContent=t.text),f(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},x=function(e,t,r,o){o?e.insertBefore(t,o):t.parentNode!==e&&e.appendChild(t)},S=/^[a-z][^-]*-/;t=function(e,t,r,n){var s,a,d,p,u,c=0,l=e.vnodeSelector,f=S.test(l),v=t.ownerDocument;if(""===l)s=e.domNode=v.createTextNode(e.text),x(t,s,0,r);else{for(a=0;a<=l.length;++a)d=l.charAt(a),a!==l.length&&"."!==d&&"#"!==d||(p=l.charAt(c-1),u=l.slice(c,a),"."===p?s.classList.add(u):"#"===p?s.id=u:("svg"===u&&(n=i(n,{namespace:o})),void 0!==n.namespace?s=e.domNode=v.createElementNS(n.namespace,u):(s=e.domNode=e.domNode||v.createElement(u),"input"===u&&e.properties&&void 0!==e.properties.type&&s.setAttribute("type",e.properties.type)),f||x(t,s,0,r)),c=a+1);b(s,e,n),f&&x(t,s,0,r)}},r=function(e,t,r){var n=e.domNode,s=!1;if(e===t)return!1;var a=!1;if(""===t.vnodeSelector){if(t.text!==e.text){var d=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(d,n),t.domNode=d,s=!0}}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(r=i(r,{namespace:o})),e.text!==t.text&&(a=!0,void 0===t.text?n.removeChild(n.firstChild):n.textContent=t.text),a=w(t,n,e.children,t.children,r)||a,a=v(n,e.properties,t.properties,r)||a,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return a&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),t.domNode=e.domNode,s};var A=function(e,t){return{update:function(o){if(e.vnodeSelector!==o.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");r(e,o,t),e=o},domNode:e.domNode}};e.h=function(e){var t=arguments[1];if("string"!=typeof e)throw new Error;var r=1;!t||t.hasOwnProperty("vnodeSelector")||Array.isArray(t)||"object"!=typeof t?t=void 0:r=2;var o,n,i=arguments.length;if(i===r+1){var s=arguments[r];"string"==typeof s?o=s:void 0!==s&&null!==s&&1===s.length&&"string"==typeof s[0]&&(o=s[0])}if(void 0===o)for(n=[];r<i;r++){var p=arguments[r];null===p||void 0===p||(Array.isArray(p)?d(e,p,n):p.hasOwnProperty("vnodeSelector")?n.push(p):n.push(a(p)))}return{vnodeSelector:e,properties:t,children:n,text:""===o?void 0:o,domNode:null}},e.dom={create:function(e,r){return r=c(r),t(e,document.createElement("div"),void 0,r),A(e,r)},append:function(e,r,o){return o=c(o),t(r,e,void 0,o),A(r,o)},insertBefore:function(e,r,o){return o=c(o),t(r,e.parentNode,e,o),A(r,o)},merge:function(e,t,r){return r=c(r),t.domNode=e,b(e,t,r),A(t,r)},replace:function(e,r,o){return o=c(o),t(r,e.parentNode,e,o),e.parentNode.removeChild(e),A(r,o)}},e.createCache=function(){var e,t;return{invalidate:function(){t=void 0,e=void 0},result:function(r,o){if(e)for(var n=0;n<r.length;n++)e[n]!==r[n]&&(t=void 0);return t||(t=o(),e=r),t}}},e.createMapping=function(e,t,r){var o=[],n=[];return{results:n,map:function(i){for(var s=i.map(e),a=n.slice(),d=0,p=0;p<i.length;p++){var u=i[p],c=s[p];if(c===o[d])n[p]=a[d],r(u,a[d],p),d++;else{for(var l=!1,f=1;f<o.length+1;f++){var v=(d+f)%o.length;if(o[v]===c){n[p]=a[v],r(i[p],a[v],p),d=v+1,l=!0;break}}l||(n[p]=t(u,p))}}n.length=i.length,o=s}}},e.createProjector=function(t){var r,o=c(t);o.eventHandlerInterceptor=function(e,t,o,n){return function(){return r.scheduleRender(),t.apply(n.bind||this,arguments)}};var n,i=!0,s=!1,a=[],d=[],p=function(){if(n=void 0,i){i=!1;for(var e=0;e<a.length;e++){var t=d[e]();a[e].update(t)}i=!0}};return r={renderNow:p,scheduleRender:function(){n||s||(n=requestAnimationFrame(p))},stop:function(){n&&(cancelAnimationFrame(n),n=void 0),s=!0},resume:function(){s=!1,i=!0,r.scheduleRender()},append:function(t,r){a.push(e.dom.append(t,r(),o)),d.push(r)},insertBefore:function(t,r){a.push(e.dom.insertBefore(t,r(),o)),d.push(r)},merge:function(t,r){a.push(e.dom.merge(t,r(),o)),d.push(r)},replace:function(t,r){a.push(e.dom.replace(t,r(),o)),d.push(r)},detach:function(e){for(var t=0;t<d.length;t++)if(d[t]===e)return d.splice(t,1),a.splice(t,1)[0];throw new Error("renderMaquetteFunction was not found")}}}});
//# sourceMappingURL=maquette.min.js.map
