<!doctype html>
<html>
  <head>
    <title>Tutorial</title>
    <link href="tutorial.css" rel="stylesheet" />
    <script src="bower_components/maquette/dist/maquette.min.js"></script>
    <script src="bower_components/ace-builds/src-noconflict/ace.js"></script>
    <script src="components/markup-matcher.js"></script>
    <script src="components/workbench.js"></script>
    <script src="components/navigation.js"></script>
    <style>
      li.complete {
        background-color: green;
      }
    </style>
    <script>
      document.addEventListener('DOMContentLoaded', function () {

        var h = maquette.h;

        // Data
        var htmlScript = "var h = maquette.h;\n" +
          "\n" +
          "var rotation = 45;\n" +
          "\n" +
          "function renderMaquette() {\n" +
          "  return h(\"body\", [\n" +
          "    h(\"div.landscape\", [\n" +
          "      h(\"div.saucer\", {}, [\"Flying saucer\"])\n" +
          "    ])\n" +
          "  ]);\n" +
          "}\n" +
          "\n" +
          "\n" +
          "// Initializes the projector \n" +
          "document.addEventListener('DOMContentLoaded', function () {\n" +
          "  maquette.createProjector(document.body, renderMaquette);\n" +
          "});\n";

        // Renders the virtual DOM
        var render = function () {
          return h("div.projector", [
            workbench.renderMaquette(),
            navigation.renderMaquette()
          ]);

        };

        // Starts the projector, which renders the virtual DOM at the right moments
        var projector = maquette.createProjector(document.querySelector(".projector"), render, {});

        var objective1 = {
          title: "Assign the rotation variable to the value property of the saucer",
          isAchieved: function () {
            return false;
          },
          onSceneUpdate: function (contentWindow) {
          },
          renderMaquette: function () {
            return h("p", []);
          }
        };

        var objective2 = {
          title: "Assign the handleRotationInput function to the oninput property of the saucer",
          isAchieved: function () {
            return false;
          },
          onSceneUpdate: function (contentWindow) {
          },
          renderMaquette: function () {
            return h("p", []);
          }
        };

        var objective3 = {
          title: "Take the flying saucer for a testdrive",
          isAchieved: function () {
            return false;
          },
          onSceneUpdate: function (contentWindow) {
          },
          renderMaquette: function () {
            return h("p", ["Rotate the flying saucer 360 degrees using the remote control"]);
          }
        };

        var workbench = createWorkbench(projector, htmlScript, [
          objective1,
          objective2,
          objective3
        ]);
        var navigation = createNavigation(projector, "4-input.html", "9-to-be-continued.html", workbench.allObjectivesAchieved);
      });
    </script>
  </head>
<body>
  <div class="projector"></div>
</body>
</html>
