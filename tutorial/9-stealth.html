---
---
<!doctype html>
<html>
<head>
  <title>Tutorial</title>
  <link href="tutorial.css" rel="stylesheet" />
  <script src="bower_components/maquette/dist/maquette.min.js"></script>
  <script src="bower_components/ace-builds/src-noconflict/ace.js"></script>
  <script src="components/markup-matcher.js"></script>
  <script src="components/workbench.js"></script>
  <script src="components/navigation.js"></script>
  <script>
      document.addEventListener('DOMContentLoaded', function () {

        var h = maquette.h;

        // Renders the virtual DOM
        var render = function () {
          return h("div.projector", [
            workbench.renderMaquette(),
            navigation.renderMaquette()
          ]);

        };

        // Starts the projector, which renders the virtual DOM at the right moments
        var projector = maquette.createProjector(document.querySelector(".projector"), render, {});

        var achieved1 = false;
        var objective1 = {
          title: "Apply the stealth variable",
          isAchieved: function () {
            return achieved1;
          },
          onSceneUpdate: function (contentWindow) {
            if(contentWindow.stealth === true && contentWindow.renderMaquette) {
              try {
                var vnodeBefore = contentWindow.renderMaquette();
                contentWindow.stealth = false;
                var vnodeAfter = contentWindow.renderMaquette();
                var beforeProperties = vnodeBefore.children[0].children[0].properties;
                var afterProperties = vnodeAfter.children[0].children[0].properties;
                achieved1 = beforeProperties.classes && afterProperties.classes && beforeProperties.classes.stealth === true && afterProperties.classes.stealth === false;
              } catch (e) {
              }
              contentWindow.stealth = true;
            }
          },
          renderMaquette: function () {
            return h("p", ["Add the CSS class 'stealth' to the saucer conditionally, based on the 'stealth' variable."]);
          }
        };

        var workbench = createWorkbench(projector, "assets/saucer-stealth.js", [
          objective1
        ]);
        var navigation = createNavigation(projector, "8-classes.html", "10-distinguishable.html", workbench.allObjectivesAchieved);
      });
  </script>
</head>
<body>
  <div class="projector"></div>
  {% include analytics.html %}
</body>
</html>
