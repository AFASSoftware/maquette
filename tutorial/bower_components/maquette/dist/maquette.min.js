!function(e){"use strict";var t=function(){},r=[],n=function(e,t){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),t&&Object.keys(t).forEach(function(e){r[e]=t[e]}),r},o=function(e,t,r,n,d){for(var s=0;s<t.length;s++){var u=t[s];Array.isArray(u)?n=o(e,u,r,n,d):null!==u&&void 0!==u&&(u.hasOwnProperty("vnodeSelector")?i(e,u,d):u=a(u),r.splice(n,0,u),n++)}return n},i=function(e,t,r){var n=t.vnodeSelector;if(!(""===n||t.properties&&t.properties.key)){for(var o=0;o<r.length;o++)if(n===r[o])throw new Error("["+e+"] contains indistinguishable child nodes ["+n+"], please add unique key properties.");r.push(n)}},a=function(e){return{vnodeSelector:"",text:null===e||void 0===e?"":e.toString(),domNode:null}},d=function(e,t){if(null===t||void 0===t)return null;if(!Array.isArray(t))return t.hasOwnProperty("vnodeSelector")?[t]:[a(t)];for(var r=0,n=[];r<t.length;){var d=t[r];null===d||void 0===d?t.splice(r,1):Array.isArray(d)?(t.splice(r,1),r=o(e,d,t,r,n)):d.hasOwnProperty("vnodeSelector")?(i(e,d,n),r++):(t[r]=a(d),r++)}return t},s=/([\.#]?[a-zA-Z0-9_:-]+)/,u={nodeToRemove:function(e){e.parentNode.removeChild(e)},nodeAdded:function(){},nodeUpdated:function(){}},l={namespace:null,transitions:u},c=function(e){return n(l,e)},p=function(e,t,r){if(t){var n=r.eventHandlerInterceptor;for(var o in t){var i=t[o];if("class"===o||"className"===o||"classList"===o)throw new Error("Property "+a+" is not supported, use 'classes' instead.");if("classes"===o)for(var a in i)i[a]&&e.classList.add(a);else{if("key"===o)continue;if(null===i||void 0===i)continue;var d=typeof i;"function"===d?(n&&0===o.lastIndexOf("on",0)&&(i=n(o,i,e),"oninput"===o&&!function(){var e=i;i=function(t){t.target["oninput-value"]=t.target.value,e.apply(this,[t])}}()),e[o]=i):"string"===d&&"value"!==o?e.setAttribute(o,i):e[o]=i}}}},f=function(e,t,r,n){if(r){var o=n.transitions;for(var i in r){var a=r[i],d=t[i];if("classes"===i){var s=e.classList;for(var u in a){var l=!!a[u],c=!!d[u];l!==c&&(l?(s.add(u),o.nodeUpdated(e,r,"addClass",u,void 0,void 0)):(s.remove(u),o.nodeUpdated(e,r,"removeClass",u,void 0,void 0)))}}else if(a||"string"!=typeof d||(a=""),"value"===i)e[i]!==a&&e["oninput-value"]!==a&&(e[i]=a),a!==d&&o.nodeUpdated(e,r,"changeProperty",i,a,d);else if(a!==d){var p=typeof a;if("function"===p)throw new Error("Functions may not be updated on subsequent renders (property: "+i+"). Hint: declare event handler functions outside the render() function.");"string"===p?e.setAttribute(i,a):e[i]=a,o.nodeUpdated(e,r,"changeProperty",i,a,d)}}}},v=function(e,t,r){t&&t.forEach(function(t){g(t,function(t){e.appendChild(t)},r)})},m=function(e,t){return e.vnodeSelector!==t.vnodeSelector?!1:e.properties&&t.properties?e.properties.key===t.properties.key:!e.properties&&!t.properties},h=function(e,t,r){if(""!==t.vnodeSelector)for(var n=r;n<e.length;n++)if(m(e[n],t))return n;return-1},y=function(e,t,n,o){if(t!==n){t=t||r,n=n||r;for(var i,a=o.transitions,d=0,s=0,u=function(r){if(d<t.length){var n=t[d];e.insertBefore(r,n.domNode)}else e.appendChild(r)};s<n.length;){var l=d<t.length?t[d]:null,c=n[s];if(l&&m(l,c))N(l,c,o),d++;else{var p=h(t,c,d+1);if(p>=0){for(i=d;p>i;i++)a.nodeToRemove(t[i].domNode,t[i].properties);N(t[p],c,o),d=p+1}else g(c,u,o),a.nodeAdded(c.domNode,c.properties)}s++}if(t.length>d)for(i=d;i<t.length;i++)a.nodeToRemove(t[i].domNode,t[i].properties)}},g=function(e,t,r){if(""===e.vnodeSelector)e.domNode=document.createTextNode(e.text),t(e.domNode);else{var o,i,a,d,u=e.vnodeSelector.split(s);for(a=0;a<u.length;a++)i=u[a],i&&(d=i.charAt(0),o?"."===d?o.classList.add(i.substring(1)):"#"===d&&(o.id=i.substr(1)):("svg"===i&&(r=n(r,{namespace:"http://www.w3.org/2000/svg"})),o=e.domNode=r.namespace?document.createElementNS(r.namespace,i):document.createElement(i),t(o)));w(o,e,r)}},w=function(e,t,r){v(e,t.children,r),p(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate(e,r,t.vnodeSelector,t.properties,t.children)},N=function(e,t,r){var n=e.domNode;if(!n)throw new Error("previous node was not mounted");e!==t&&(""===t.vnodeSelector?t.text!==e.text&&(n.nodeValue=t.text,r.transitions.nodeUpdated(n,t.properties,"changeText",void 0,t.text,e.text)):(y(n,e.children,t.children,r),f(n,e.properties,t.properties,r),t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate(n,r,t.vnodeSelector,t.properties,t.children)),t.domNode=e.domNode)},A=e.performance&&e.performance.now?e.performance:{offset:new Date,now:function(){return new Date-this.offset}},S={lastCreateVDom:null,lastCreateDom:null,lastUpdateVDom:null,lastUpdateDom:null,lastProjector:null,createExecuted:function(e,t,r,n){S.lastProjector=n,S.lastCreateVDom=t-e,S.lastCreateDom=r-t},updateExecuted:function(e,t,r,n){S.lastProjector=n,S.lastUpdateVDom=t-e,S.lastUpdateDom=r-t}},x=function(e,t){return{update:function(r){if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using mergeDom with one extra level)");N(e,r,t),e=r},domNode:e.domNode}},C={h:function(e,t,r){if(!r&&Array.isArray(t)&&"string"==typeof e)r=t,t=void 0;else if("string"!=typeof e||r&&!Array.isArray(r)||void 0!==t&&"object"!=typeof t)throw new Error("Incorrect arguments passed to the h() function. Correct signature: h(string, optional object, optional array)");return r=d(e,r),{vnodeSelector:e,properties:t,children:r,domNode:null}},createDom:function(e,r){return r=c(r),g(e,t,r),x(e,r)},appendToDom:function(e,t,r){r=c(r);var n=e.appendChild?function(t){e.appendChild(t)}:e;return g(t,n,r),x(t,r)},mergeDom:function(e,t,r){return r=c(r),t.domNode=e,w(e,t,r),x(t,r)},createProjector:function(e,t,r){r=c(r),r.eventHandlerInterceptor=function(e,t){return function(){return d.scheduleRender(),t.apply(this,arguments)}};var n,o=null,i=!1,a=function(){if(n=null,o){var i=A.now(),a=t(),s=A.now();o.update(a),S.updateExecuted(i,s,A.now(),d)}else{var u=A.now(),l=t(),c=A.now();o=C.mergeDom(e,l,r),S.createExecuted(u,c,A.now(),d)}};n=requestAnimationFrame(a);var d={scheduleRender:function(){n||i||(n=requestAnimationFrame(a))},destroy:function(){n&&(cancelAnimationFrame(n),n=null),i=!0}};return d},createCache:function(){var e=null,t=null,r={invalidate:function(){t=null,e=null},result:function(r,n){if(e)for(var o=0;o<r.length;o++)e[o]!==r[o]&&(t=null);return t||(t=n(),e=r),t}};return r},stats:S};"undefined"!=typeof module&&module.exports?module.exports=C:"function"==typeof define&&define.amd?define(function(){return C}):window.maquette=C}(this);